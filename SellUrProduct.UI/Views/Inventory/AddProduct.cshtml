@model SellurProduct.Model.Item
@{
    ViewData["Title"] = "Add Item";
}

<h2>Add Item</h2>

@using (Html.BeginForm("AddProduct", "Inventory", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div>
        <label for="Name">Name:</label>
        <input type="text" id="Name" name="Name" required />
    </div>
    <div>
        <label for="Description">Description:</label>
        <input type="text" id="Description" name="Description" />
    </div>
    <div>
        <label for="Price">Price:</label>
        <input type="text" id="Price" name="Price" required />
    </div>
    <div>
        <label for="Quantity">Quantity:</label>
        <input type="text" id="Quantity" name="Quantity" required />
    </div>
    <div>
        <label for="Image">Image:</label>
        <input type="file" id="Image" name="image" onchange="previewImage(this)" required />
    </div>
    <div>
        <img id="preview" src="#" alt="Image Preview" style="display:none; max-height: 200px;" />
    </div>

    <button type="submit">Add</button>
}

@section Scripts {
    <script>
        function previewImage(input) {
            const file = input.files[0];
            const preview = document.getElementById('preview');

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            } else {
                preview.src = '#';
                preview.style.display = 'none';
            }
        }
    </script>
}